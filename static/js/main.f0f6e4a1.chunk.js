(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,a,t){e.exports=t(58)},58:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(24),r=t(25),s=t(26),d=t(29),i=t(30),c=t(9),m=t.n(c),u={ALL:"all",MAC:"mac",WINDOWS:"windows",LINUX:"linux",JAR:"jar"},p={deb:"images/download-button-linux.png",jar:"images/download-button-jar.png",exe:"images/download-button-windows.png",dmg:"images/download-button-macos-dmg.png"},h={deb:"Linux",jar:"Java Jar",exe:"Windows",dmg:"Mac Os"},g=function(e){var a=e.download,t=(e.index,!1);switch(e.downloadType){case u.JAR:a.name.endsWith(".jar")&&(t=!0);break;case u.LINUX:a.name.endsWith(".deb")&&(t=!0);break;case u.MAC:a.name.endsWith(".pkg")?t=!0:a.name.endsWith(".dmg")&&(t=!0);break;case u.WINDOWS:a.name.endsWith(".exe")&&(t=!0);break;default:t=!0}if(t){var n=a.browser_download_url,l=n.substr(n.lastIndexOf(".")+1),r=p[l],s=h[l];return o.a.createElement("div",{className:"download-details"},o.a.createElement("div",{className:"download-url"},o.a.createElement("a",{href:n},o.a.createElement("img",{id:"button-"+a.id,src:r}),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"button-"+a.id},s))),o.a.createElement("div",{className:"download-count"},a.download_count," Downloads")))}return""},E=function(e){var a=e.release,t=(e.index,e.showPre),n=e.downloadType,l=e.tool;if(0===a.assets.length)return"";if(t||!a.prerelease){var r=new Date(a.published_at).toLocaleString(void 0,{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"}),s=a.tag_name,d="TokenTool"==l?"images/RPTools-Token-Logo.png":"images/RPTools-Map-Logo.png",i="https://github.com/RPTools/"+l+"/blob/"+s+"/CHANGE_LOG.md";return o.a.createElement("div",null,o.a.createElement("div",{className:"release-img"},o.a.createElement("img",{src:d})),o.a.createElement("div",{className:"release-name"},""!==a.name?a.name.replace("Release",l):"MapTool "+a.tag_name),o.a.createElement("div",null,o.a.createElement("div",{className:"published-date"},r),o.a.createElement("a",{className:"release-notes",href:i},"release notes")),o.a.createElement("div",null,a.assets.map(function(e,a){return o.a.createElement(g,{download:e,index:a,key:e.id,downloadType:n,tagName:s})})))}return""},v=t(10),w=t(6),T=function(e){Object(i.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).setTool=function(e){var a=e.match;return console.log(a),""},n.handleDownloadTypeChange=function(e){n.setState({downloadType:e.target.value})},n.handlePreChange=function(e){var a=e.target.checked;n.setState({showPre:a})},n.releaseList=function(e){var a=e.match.params.tool,t="TokenTool"===a?n.state.tokenToolReleases:n.state.mapToolReleases;return o.a.createElement("div",null,o.a.createElement("h2",{className:"tool-release-title"},a," Releases"),o.a.createElement("div",{className:"release-download-type"},o.a.createElement("select",{value:n.state.downloadType,name:"Download Type",onChange:n.handleDownloadTypeChange},o.a.createElement("option",{value:u.ALL},u.ALL),o.a.createElement("option",{value:u.JAR},u.JAR),o.a.createElement("option",{value:u.LINUX},u.LINUX),o.a.createElement("option",{value:u.MAC},u.MAC),o.a.createElement("option",{value:u.WINDOWS},u.WINDOWS))),o.a.createElement("div",{className:"release-download-prerelease"},o.a.createElement("label",null,"Include Prerelease"),o.a.createElement("input",{name:"Include Prerelease",type:"checkbox",checked:n.state.showPre,onChange:n.handlePreChange})),o.a.createElement("li",{className:"release-list"},t.map(function(a,t){return o.a.createElement(E,{release:a,index:t,key:a.id,showPre:n.state.showPre,downloadType:n.state.downloadType,tool:e.match.params.tool})})))},n.state={mapToolReleases:[],tokenToolToolReleases:[],tool:"",loading:!0,error:null,showPre:!1,downloadType:u.ALL},n}return Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;m.a.all([m.a.get("https://api.github.com/repos/rptools/maptool/releases"),m.a.get("https://api.github.com/repos/rptools/tokentool/releases")]).then(m.a.spread(function(a,t){var n=a.data,o=t.data;e.setState({mapToolReleases:n,tokenToolReleases:o,loading:!1})})).catch(function(a){e.setState({error:a,loading:!1})})}},{key:"renderLoading",value:function(){return o.a.createElement("div",null,"Loading...")}},{key:"renderError",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"Sorry, an error occurred: ",this.state.error.response.data.message))}},{key:"renderList",value:function(){var e=this.state,a=e.error;e.mapToolReleases,e.tokenToolReleases;return a?(console.log(a),this.renderError()):o.a.createElement(v.a,{basename:"/"},o.a.createElement("div",null,o.a.createElement(w.a,{path:"/:tool",component:this.releaseList}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(v.b,{to:"/MapTool"},"MapTool")),o.a.createElement("li",null,o.a.createElement(v.b,{to:"/TokenTool"},"TokenTool")))))}},{key:"render",value:function(){return this.state.loading?this.renderLoading():this.renderList()}}]),t}(n.Component),b=function(){return o.a.createElement("div",null,o.a.createElement(T,null))};Object(l.render)(o.a.createElement(b,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.f0f6e4a1.chunk.js.map